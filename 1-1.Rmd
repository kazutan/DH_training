---
title: "文字列ベクトルの生成(1)"
date: "`r format(Sys.time(), '%Y/%m/%d')`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

簡単な文字列のベクトルを生成します。

## 問題
### (1)指定した文字列からベクトル生成 {.tab-content}
以下の様な文字列ベクトルを生成してください。

<ul class="nav nav-tabs">
  <li class="active">
  <a href="#tab1" data-toggle="tab">出力例</a>
  </li>
  <li role="presentation">
  <a href="#tab1a" data-toggle="tab">解答例1</a>
  </li>
</ul>

#### 出力例 {#tab1 .tab-pane .active}

```{r echo=FALSE}
x <- c("hoge", "ほげ", "ホゲ")
x
```

#### 解答例1 {#tab1a .tab-pane}

```{r}
x <- c("hoge", "ほげ", "ホゲ")
x
```



### (2)連続した文字ベクトルの生成 {.tab-content}
以下のような文字が連続したベクトルを生成してください。

<ul class="nav nav-tabs">
  <li class="active">
  <a href="#tab2" data-toggle="tab">出力例</a>
  </li>
  <li role="presentation">
  <a href="#tab2a" data-toggle="tab">解答例1</a>
  </li>
</ul>

#### 出力例 {#tab2 .tab-pane .active}

```{r echo=FALSE}
x <- LETTERS[3:8]
y <- letters[11:16]
x
y
```

#### 解答例1 {#tab2a .tab-pane}

```{r}
x <- LETTERS[3:8]
y <- letters[11:16]
x
y
```



### (3)連番の文字列ベクトルの生成 {.tab-content}
以下の出力例のような、hoge1からhoge12までの連番の文字列ベクトルを生成してください。

<ul class="nav nav-tabs">
  <li class="active">
  <a href="#tab3" data-toggle="tab">出力例</a>
  </li>
  <li role="presentation">
  <a href="#tab3a" data-toggle="tab">解答例1</a>
  </li>
</ul>

#### 出力例 {#tab3 .tab-pane .active}

```{r echo=FALSE}
x <- paste0("hoge", 1:12)
x
```

#### 解答例1 {#tab3a .tab-pane}

```{r}
x <- paste0("hoge", 1:12)
x
```

`paste0()`は文字列を結合する関数で、セパレータ(挟むもの)が""とありません。第一引数で文字列"hoge"を指定し、第二引数で"1"と数値を指定すれば、"hoge1"という文字列を出力します。

この`paste0()`はベクトルでも受け付けますので、第二引数に`1:12`と指定することで1から12の数値ベクトルとなりますから、第一引数の`hoge`は第二引数の数だけリピートされて結合され、結果として上記のような出力となります。

### (4)全ての組み合わせの文字列ベクトルの生成 {.tab-content}
以下の2つの文字列ベクトルがあるとします:

```{r eval=FALSE}
x <- c("国語", "数学", "英語")
y <- c("中間", "期末")
```

この2つのベクトル要素全ての組み合わせで、出力例のような文字列ベクトルを生成してください。

<ul class="nav nav-tabs">
  <li class="active">
  <a href="#tab4" data-toggle="tab">出力例</a>
  </li>
  <li role="presentation">
  <a href="#tab4a" data-toggle="tab">解答例1</a>
  </li>
</ul>

#### 出力例 {#tab4 .tab-pane .active}

```{r echo=FALSE}
x <- c("国語", "数学", "英語")
y <- c("中間", "期末")
as.vector(outer(x, y, FUN = "paste", sep="-"))
```

#### 解答例1 {#tab4a .tab-pane}

```{r}
x <- c("国語", "数学", "英語")
y <- c("中間", "期末")
as.vector(outer(x, y, FUN = "paste", sep="-"))
```

文字列ベクトルの各要素で出力例のような全ての組み合わせを出力したい場合には、`outer`関数が便利です。

`outer`関数は行列の外積(演算)を実行します。引数`FUN = `で演算するための関数を指定します。今回のように文字列ベクトルを与え、引数に`FUN = "paste"`と指定すると、与えたベクトルの組み合わせ全てに`paste`を実行します:

```{r}
outer(x, y, FUN = "paste")
```

ただし、このままだと2つの要素間に半角スペース(" ")がはいります。今回はハイフン("-")にしたいので、以下のようにします:

```{r}
outer(x, y, FUN = "paste", sep="-")
```

この引数`sep = `は、outerの引数ではなく、FUNで指定した関数の引数として処理されます。詳しくは`?outer`で確認してください。

これで目的の文字列は生成できましたが、`outer`の出力はmatrix型となります。これをベクトルにするため、全体を`as.vector`関数で包めばOKです。

```{r}
as.vector(outer(x, y, FUN = "paste", sep = "-"))
```

